<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="If JATOS runs locally it's usually not necessary to change the defaults. On a server, you may want to set up the IP and port, or use a different database, ch...">
<meta name="keywords" content=" server, configuration, config, study assets, study assets root, port, password, IP, port, localhost, domain, 127.0.0.1, ldap, production.conf, pid">
<title>Configure JATOS on a Server | JATOS 3 Documentation</title>
<link rel="stylesheet" href="css/syntax.css">

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/boxshadowproperties.css">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="css/theme-blue.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="jatos_docs_v3" href="http://localhost:4000/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>
<body>
<script data-name="BMC-Widget" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="jatos" data-description="" data-message="" data-color="#FF813F" data-position="right" data-x_margin="18" data-y_margin="18"></script>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="Whats-JATOS.html"><span class="projectTitle"><img src="images/jatos_logo_color.svg" height="20">&nbsp;JATOS 3 Documentation</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- entries without drop-downs appear here -->




                
                
                
                <li><a href="https://github.com/JATOS/JATOS/releases/latest" target="_blank">Download</a></li>
                
                
                
                <li><a href="Example-Studies.html" target="_blank">Example Studies</a></li>
                
                
                
                <li><a href="http://blog.jatos.org" target="_blank">Blog</a></li>
                
                
                
                <li><a href="Contact-us.html">Contact</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="Configure JATOS on a Server">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div id="main">
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">
                

<ul id="mysidebar" class="nav">
  <li class="sidebarTitle"> </li>
  
  
  
      
  
  <li>
      <a href="#">Overview</a>
      <ul>
          
          
          
          <li><a href="Whats-JATOS.html">What's JATOS</a></li>
          
          
          
          
          
          
          <li><a href="Papers-Citing-JATOS.html">Papers citing JATOS</a></li>
          
          
          
          
          
          
          <li><a href="Contact-us.html">Contact us</a></li>
          
          
          
          
          
          
          <li><a href="Installation.html">Installation</a></li>
          
          
          
          
          
          
          <li><a href="Get-started.html">Get started</a></li>
          
          
          
          
          
          
          <li><a href="Run-an-experiment-with-JATOS-Workflow.html">Run an experiment with JATOS - Workflow</a></li>
          
          
          
          
          
          
          <li><a href="Data-Privacy-and-Ethics.html">Data Privacy and Ethics</a></li>
          
          
          
          
          
          
          <li><a href="JATOS-Tryout-Server.html">JATOS Tryout Server</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Write your study</a>
      <ul>
          
          
          
          <li><a href="Create-a-new-study.html">Create a new study</a></li>
          
          
          
          
          
          
          <li><a href="Write-your-own-Study-Basics-and-Beyond.html">Write your own Study - Basics and Beyond</a></li>
          
          
          
          
          
          
          <li><a href="Adapt-Pre-written-Code-to-run-it-in-JATOS.html">Adapt Pre written Code to run it in JATOS (Jatosify)</a></li>
          
          
          
          
          
          
          <li><a href="jsPsych-and-JATOS.html">jsPsych and JATOS</a></li>
          
          
          
          
          
          
          <li><a href="labjs-and-JATOS.html">lab.js and JATOS</a></li>
          
          
          
          
          
          
          <li><a href="OSWeb-and-JATOS.html">OpenSesame and JATOS</a></li>
          
          
          
          
          
          
          <li><a href="Submit-and-upload-data-to-the-server.html">Result data and result uploads</a></li>
          
          
          
          
          
          
          <li><a href="Session-Data-Three-Types.html">Session Data - Three Types</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Run your study</a>
      <ul>
          
          
          
          <li><a href="Deploy-to-a-server-installation.html">Deploy to a server installation</a></li>
          
          
          
          
          
          
          <li><a href="Run-your-Study-with-Worker-and-Batch-Manager.html">Run your Study with Worker & Batch Manager</a></li>
          
          
          
          
          
          
          <li><a href="Restricting-study-flow.html">Restricting study flow</a></li>
          
          
          
          
          
          
          <li><a href="Worker-Types.html">Worker Types</a></li>
          
          
          
          
          
          
          <li><a href="Change-studys-members.html">Change study's members</a></li>
          
          
          
          
          
          
          <li><a href="Connect-to-Mechanical-Turk.html">Use MTurk</a></li>
          
          
          
          
          
          
          <li><a href="Use-Prolific.html">Use Prolific</a></li>
          
          
          
          
          
          
          <li><a href="Cross-sectional-and-longitudinal-studies.html">Write cross-sectional and longitudinal studies</a></li>
          
          
          
          
          
          
          <li><a href="Manage-Results.html">Manage Results</a></li>
          
          
          
          
          
          
          <li><a href="End-page-after-your-study-finished.html">End page - what's after your study finished</a></li>
          
          
          
          
          
          
          <li><a href="Study-Log.html">Study Log</a></li>
          
          
          
          
          
          
          <li><a href="Tips-and-Tricks.html">Tips & Tricks</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Manage your JATOS</a>
      <ul>
          
          
          
          <li><a href="Administration.html">Administration</a></li>
          
          
          
          
          
          
          <li><a href="User-Manager.html">Manage JATOS users</a></li>
          
          
          
          
          
          
          <li><a href="Update-JATOS.html">Update JATOS</a></li>
          
          
          
          
          
          
          <li><a href="Troubleshooting.html">Troubleshooting</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Group Studies</a>
      <ul>
          
          
          
          <li><a href="Example-Group-Studies.html">Example Group Studies</a></li>
          
          
          
          
          
          
          <li><a href="Write-Group-Studies-I-Setup.html">Write Group Studies I - Setup</a></li>
          
          
          
          
          
          
          <li><a href="Write-Group-Studies-II-JavaScript-and-Messaging.html">Write Group Studies II - JavaScript and Messaging</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Serving the Internet</a>
      <ul>
          
          
          
          <li><a href="Bring-your-JATOS-online.html">Bring your JATOS online</a></li>
          
          
          
          
          
          
          <li><a href="Expose-your-local-JATOS.html">Expose your local JATOS</a></li>
          
          
          
          
          
          
          <li><a href="JATOS-on-DigitalOcean.html">JATOS on DigitalOcean</a></li>
          
          
          
          
          
          
          <li><a href="JATOS-in-Amazons-Cloud-without-Docker.html">JATOS on AWS</a></li>
          
          
          
          
          
          
          <li><a href="JATOS-on-a-server.html">Install JATOS on a server</a></li>
          
          
          
          
          
          
          <li class="active"><a href="Configure-JATOS-on-a-Server.html">Configure JATOS on a Server</a></li>
          
          
          
          
          
          
          <li><a href="JATOS-with-MySQL.html">JATOS with MySQL</a></li>
          
          
          
          
          
          
          <li><a href="JATOS-with-Nginx.html">JATOS with Nginx</a></li>
          
          
          
          
          
          
          <li><a href="JATOS-with-Apache.html">JATOS with Apache</a></li>
          
          
          
          
          
          
          <li><a href="Updating-a-JATOS-server-installation.html">Updating a JATOS server installation</a></li>
          
          
          
          
          
          
          <li><a href="Customize-JATOS-Home-Page.html">Customize JATOS' Home Page</a></li>
          
          
          
          
          
          
          <li><a href="Install-JATOS-via-Docker.html">Install JATOS via Docker</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Reference</a>
      <ul>
          
          
          
          <li><a href="jatos.js-Reference.html">jatos.js Reference</a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
      <!-- if you aren't using the accordion, uncomment this block:
         <p class="external">
             <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
         </p>
         -->
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>
            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            <div class="post-header">
   <h1 class="post-title-main">Configure JATOS on a Server</h1>
</div>



<div class="post-content">

   
    <div class="summary">If JATOS runs locally it's usually not necessary to change the defaults. On a server, you may want to set up the IP and port, or use a different database, change the path of the study assets root folder, or add some password restrictions.</div>
   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    


    

    <a target="_blank" href="https://github.com/JATOS/JATOS_docs_v3/blob/gh-pages/pages//Configure-JATOS-on-a-Server.md" class="btn btn-default githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> Edit me</a>

    


    

  <p><strong>Restart JATOS after making any changes to the configuration (<code class="highlighter-rouge">loader.sh restart</code>)</strong></p>

<h3 id="ip--domain-and-port">IP / domain and port</h3>

<p>By default JATOS binds to all locally available IP addresses including 127.0.0.1 on port 9000. If you don’t want to use a proxy in front of JATOS, you have several ways to configure the host name or IP address and the port:</p>

<ol>
  <li>
    <p><strong>Since JATOS 3.3.5</strong> it is possible to set up IP and port via <code class="highlighter-rouge">conf/production.conf</code>: Edit <code class="highlighter-rouge">play.server.http.address</code> and <code class="highlighter-rouge">play.server.http.port</code> and restart JATOS. E.g. to run on IP 192.168.0.100 and port 80:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>play.server.http.address <span class="o">=</span> <span class="s2">"192.168.0.100"</span>
play.server.http.port <span class="o">=</span> 80
</code></pre></div>    </div>
  </li>
  <li>
    <p>Via command-line arguments <code class="highlighter-rouge">-Dhttp.address</code> and <code class="highlighter-rouge">-Dhttp.port</code>, e.g. with the following command you’d start JATOS with IP 10.0.0.1 and port 80</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>loader.sh start <span class="nt">-Dhttp</span>.address<span class="o">=</span>10.0.0.1 <span class="nt">-Dhttp</span>.port<span class="o">=</span>80
</code></pre></div>    </div>
  </li>
  <li>
    <p>(DEPRECATED) In <code class="highlighter-rouge">loader.sh</code> change the values of ‘address’ and ‘port’ according to your IP address or domain name and port. Restart JATOS after editing.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">address</span><span class="o">=</span><span class="s2">"172.16.0.1"</span>
<span class="nv">port</span><span class="o">=</span><span class="s2">"8080"</span>
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="url-base-path-jatos--v331">URL base path (JATOS &gt;= v3.3.1)</h3>

<p>JATOS can be configured to use an base path. E.g we have the host “www.example.org” and let JATOS run under “mybasepath” so that JATOS’ URL all start with “www.example.org/mybasepath/”. This can be achieved in two ways:</p>

<ol>
  <li>
    <p>Via the command-line argument <code class="highlighter-rouge">-DJATOS_URL_BASE_PATH</code>, e.g.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>loader.sh start <span class="nt">-DJATOS_URL_BASE_PATH</span><span class="o">=</span><span class="s2">"/mybasepath/"</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Via <code class="highlighter-rouge">conf/production.conf</code>: change <code class="highlighter-rouge">play.http.context</code></p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>play.http.context <span class="o">=</span> <span class="s2">"/mybasepath/"</span>
</code></pre></div>    </div>
  </li>
</ol>

<p><strong>The path always has to start and end with a “/”.</strong> And keep in mind that if you add a base path to JATOS’ URL you have to adjust all absolute paths to the study assets (in HTML and JavaScript files) too - <a href="Adapt-Pre-written-Code-to-run-it-in-JATOS.html#create-the-study-in-jatos">or use relative paths</a>.</p>

<h3 id="study-assets-root-path">Study assets root path</h3>

<p>By default the study assets root folder (where all your study’s HTML, JavaScript files etc. are stored) is located within JATOS installation’s folder in <code class="highlighter-rouge">study_assets_root</code>. There are three ways to change this path:</p>

<ol>
  <li>
    <p>Via the command-line argument <code class="highlighter-rouge">-DJATOS_STUDY_ASSETS_ROOT_PATH</code>, e.g.</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>loader.sh start <span class="nt">-DJATOS_STUDY_ASSETS_ROOT_PATH</span><span class="o">=</span><span class="s2">"/path/to/my/assets/root/folder"</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Via <code class="highlighter-rouge">conf/production.conf</code>: change <code class="highlighter-rouge">jatos.studyAssetsRootPath</code></p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jatos.studyAssetsRootPath<span class="o">=</span><span class="s2">"/path/to/my/jatos_study_assets_root"</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Via the environment variable <code class="highlighter-rouge">JATOS_STUDY_ASSETS_ROOT_PATH</code>, e.g. the following export adds it to the env variables:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">JATOS_STUDY_ASSETS_ROOT_PATH</span><span class="o">=</span><span class="s2">"/path/to/my/assets/root/folder"</span>
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="mysql-database">MySQL Database</h3>

<p>See <a href="JATOS-with-MySQL.html">JATOS with MySQL</a></p>

<h3 id="jvm-arguments">JVM arguments</h3>

<p>All JVM arguments can be used with <code class="highlighter-rouge">loader.sh</code> but all arguments starting with <code class="highlighter-rouge">-X</code> need an extra suffix <code class="highlighter-rouge">-J</code>. E.g. <code class="highlighter-rouge">-Xmx</code> (to change JVM’s max heap memory) has to be written as <code class="highlighter-rouge">-J-Xmx</code>.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>loader.sh start <span class="nt">-J-Xmx4G</span>   <span class="c"># Allow max 4 GB (heap) memory</span>
</code></pre></div></div>

<h3 id="password-restrictions">Password restrictions</h3>

<p>By default JATOS’ keeps it simple and relies on the users to choose save passwords: it just enforces a length of at least 7 characters. But this can be changed in the <code class="highlighter-rouge">conf/production.conf</code> with the following two properties.</p>

<ul>
  <li><code class="highlighter-rouge">jatos.user.password.length</code> - Set with an positive integer (default is 7)</li>
  <li><code class="highlighter-rouge">jatos.user.password.strength</code> - Set to 0, 1, 2, or 3 (default is 0)
    <ul>
      <li><code class="highlighter-rouge">0</code>: No restrictions on characters</li>
      <li><code class="highlighter-rouge">1</code>: At least one Latin letter and one number</li>
      <li><code class="highlighter-rouge">2</code>: At least one Latin letter, one number and one special character (<code class="highlighter-rouge">#?!@$%^&amp;*-</code>)</li>
      <li><code class="highlighter-rouge">3</code>: At least one uppercase Latin letter, one lowercase Latin letter, one number and one special character (<code class="highlighter-rouge">#?!@$%^&amp;*-</code>)</li>
    </ul>
  </li>
</ul>

<h3 id="study-result-data-jatos--v359">Study result data (JATOS &gt;= v3.5.9)</h3>

<p>You can change the allowed size of a component’s result data. This can be used to reduce the load on the server, especially network and database. Sometimes its necessary to increase the value if certain studies have larger result data needs. The property for this in <code class="highlighter-rouge">conf/production.conf</code> is <code class="highlighter-rouge">jatos.resultData.maxSize</code>. By default it’s set to 5 MB per component run.</p>

<p>E.g. to reduce the allowed size per component to 1 MB:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jatos.resultData.maxSize <span class="o">=</span> 1MB
</code></pre></div></div>

<h3 id="uploading-of-study-result-files-jatos--v351">Uploading of study result files (JATOS &gt;= v3.5.1)</h3>

<ol>
  <li>
    <p>Via <code class="highlighter-rouge">conf/production.conf</code></p>

    <ul>
      <li><code class="highlighter-rouge">jatos.resultUploads.enabled</code> - Enables study result files uploads (default is true)</li>
      <li><code class="highlighter-rouge">jatos.resultUploads.path</code> - Path in the file system where the uploaded result files will be stored (default is ‘./result_uploads’)</li>
      <li><code class="highlighter-rouge">jatos.resultUploads.maxFileSize</code> - Max file size for one single uploaded result file (default is 30 MB)</li>
      <li><code class="highlighter-rouge">jatos.resultUploads.limitPerStudyRun</code> - Limit of all uploaded result files of one single study run (default is 50MB)</li>
    </ul>
  </li>
  <li>
    <p>Via environment variables (JATOS_RESULT_UPLOADS_LIMIT_PER_STUDY_RUN and JATOS_RESULT_UPLOADS_MAX_FILE_SIZE only since 3.5.6)</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">JATOS_RESULT_UPLOADS_PATH</span><span class="o">=</span><span class="s2">"/path/to/my/result/upload/folder"</span>
<span class="nb">export </span><span class="nv">JATOS_RESULT_UPLOADS_LIMIT_PER_STUDY_RUN</span><span class="o">=</span>100MB
<span class="nb">export </span><span class="nv">JATOS_RESULT_UPLOADS_MAX_FILE_SIZE</span><span class="o">=</span>50MB
</code></pre></div>    </div>
  </li>
  <li>
    <p>Via command-line arguments (JATOS_RESULT_UPLOADS_LIMIT_PER_STUDY_RUN and JATOS_RESULT_UPLOADS_MAX_FILE_SIZE only since 3.5.6)</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>loader.sh start <span class="nt">-DJATOS_RESULT_UPLOADS_PATH</span><span class="o">=</span><span class="s2">"/path/to/my/result/upload/folder"</span> <span class="nt">-DJATOS_RESULT_UPLOADS_LIMIT_PER_STUDY_RUN</span><span class="o">=</span>100MB <span class="nt">-DJATOS_RESULT_UPLOADS_MAX_FILE_SIZE</span><span class="o">=</span>50MB
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="study-logs-since-jatos--321">Study logs (since JATOS &gt;= 3.2.1)</h3>

<ol>
  <li>
    <p>Via <code class="highlighter-rouge">conf/production.conf</code></p>

    <ul>
      <li><code class="highlighter-rouge">jatos.studyLogs.enabled</code> - (since JATOS &gt;= 3.5.1) - Enables <a href="Study-Log.html">Study Logs</a> (default is true)</li>
      <li><code class="highlighter-rouge">jatos.studyLogs.path</code> - (since JATOS &gt;= 3.2.1) - Path in the file system where the <a href="Study-Log.html">Study Logs</a> will be stored (default is ‘./study_logs’)</li>
    </ul>
  </li>
  <li>
    <p>The path can be configured via environment variables</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">JATOS_STUDY_LOGS_PATH</span><span class="o">=</span><span class="s2">"/path/to/my/study/logs/folder"</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>The path can be configured via command-line arguments</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>loader.sh start <span class="nt">-DJATOS_STUDY_LOGS_PATH</span><span class="o">=</span><span class="s2">"/path/to/my/study/logs/folder"</span>
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="ldap-authentication-since-jatos--354">LDAP authentication (since JATOS &gt;= 3.5.4)</h3>

<p>By default JATOS uses only locally stored users and no LDAP. LDAP configuration is only possible in <code class="highlighter-rouge">conf/production.conf</code>. At the moment LDAP users still have to be created manually in JATOS’ <em>User manager</em> (with the checkbox LDAP turned on).- only authentication is done via LDAP.</p>

<ul>
  <li><code class="highlighter-rouge">jatos.user.authentication.ldap.url</code> - Specifies URL of the LDAP server. Not set or an empty string means no authentication via LDAP.</li>
  <li><code class="highlighter-rouge">jatos.user.authentication.ldap.basedn</code> - LDAP base domain name (e.g. “dc=example,dc=com”). Not set or an empty string means no authentication via LDAP.</li>
  <li><code class="highlighter-rouge">jatos.user.authentication.ldap.timeout</code> -  Time in milliseconds JATOS waits for a response from your LDAP server. Default is 5000 ms.</li>
</ul>

<p>If your LDAP uses encryption, you have to add your certificate to JATOS’ trusted certificates defined with <code class="highlighter-rouge">play.ws.ssl.trustManager.stores</code>. E.g. if your certificate’s location is in <code class="highlighter-rouge">/jatos/conf/certs/ca.pem</code>, then use the following to add it: <code class="highlighter-rouge">play.ws.ssl.trustManager.stores = [ { type = "PEM", path = "/jatos/conf/certs/ca.pem" } ]</code>. ‘type’ can be PKCS12, JKS or PEM.</p>

<h3 id="user-session-configuration">User session configuration</h3>

<p>The user session is part of JATOS secuity measurments (<a href="http://blog.jatos.org/Hardening-JATOS-Security/">more about security</a>) and can be configured in <code class="highlighter-rouge">conf/production.conf</code>.</p>

<ul>
  <li><code class="highlighter-rouge">jatos.userSession.validation</code> - (since JATOS &gt;= 3.1.10) - toggles user session validation. If turned on (true) only the IP which was used at login time is allowed to be used for subsequent requests by this user. This helps preventing session hijacking and adds an addional layer of security. But on the downside it also prevents using the same user in JATOS from different browsers at the same time. By default it is set to false to allow an easy use of a local JATOS. On a server installation it should be set to true, although sometimes this not possible, e.g. if your users have an often changing, dynamic IP address. WARNING: Turning off the user session validation reduces JATOS security!</li>
</ul>

<p>Other configs are:</p>

<ul>
  <li><code class="highlighter-rouge">jatos.userSession.timeout</code> - time in minutes a user stays logged in (default is 1440 = 1 day)</li>
  <li><code class="highlighter-rouge">jatos.userSession.inactivity</code> - defines the time in minutes a user is automatically logged out after inactivity (default is 60)</li>
</ul>

<h3 id="customize-jatos-home-page">Customize JATOS’ home page</h3>

<p><a href="Customize-JATOS-Home-Page.html">More here</a>.</p>

<h3 id="other-configuration-in-productionconf">Other configuration in <em>production.conf</em></h3>

<p>Some other properties can be configured in the <code class="highlighter-rouge">conf/production.conf</code>.</p>

<ul>
  <li><code class="highlighter-rouge">play.http.session.secure</code> - secure session cookie: set true to restrict user access to HTTPS (default is false)</li>
  <li><code class="highlighter-rouge">jatos.idCookies.secure</code> - secure ID cookies: set true to restrict worker access to HTTPS (default is false)</li>
  <li><code class="highlighter-rouge">jatos.idCookies.sameSite</code> - defines the ID cookies’ ‘SameSite’ attribute: allowed values are <code class="highlighter-rouge">None</code>, <code class="highlighter-rouge">Lax</code>, or <code class="highlighter-rouge">Strict</code>. Default is <code class="highlighter-rouge">None</code>.</li>
  <li><code class="highlighter-rouge">jatos.studyMembers.allowAddAllUsers</code> - Allow to add all users that exist on a JATOS to be added at once as members of a study. Default is true.</li>
  <li><code class="highlighter-rouge">jatos.resultData.export.useTmpFile</code> - If true, result data that are fetched from the database are first stored in a temporary file and only when they are all gathered the file is sent to the browser. If false the result data are streamed directly from the database to the browser. Default is false.</li>
  <li><code class="highlighter-rouge">jatos.maxResultsDbQuerySize</code> - Maximal number of results to be fetched from the DB at once (default is 10)</li>
</ul>

<p>Apart from those all <a href="https://www.playframework.com/documentation/latest/Configuration">configuration properties possible in the Play Framework</a> are possible in JATOS’ <em>production.conf</em> too, e.g.</p>
<ul>
  <li><code class="highlighter-rouge">play.pidfile.path</code> - Path to the file that contains the process id of the started JATOS application (default is <code class="highlighter-rouge">./RUNNING_PID</code>)</li>
</ul>



    <div class="tags">
        
    </div>




</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
<span>Page last updated:</span> 14 Mar 2021
                </div>
            </div>
</footer>


        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>

<!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-57013276-1','auto');ga('require','displayfeatures');ga('send','pageview');</script>


</html>
